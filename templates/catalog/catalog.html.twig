{% extends 'base.html.twig' %}

{% block title %}Каталог товаров{% endblock %}

{% block content %}
    <h1>Каталог товаров</h1>

    <a href="{{ path('catalog_add') }}" class="btn btn-success mb-3">Добавить товар</a>

    <table class="table">
        <thead>
        <tr>
            <th>ID</th>
            <th>Описание</th>
            <th>Тип</th>
            <th>Дата публикации</th>
            <th>Действия</th>
        </tr>
        </thead>
        <tbody>
        {% for item in catalogItems %}
            <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.description }}</td>
                <td>{{ item.type }}</td>
                <td>{{ item.publishedAt|date('Y-m-d H:i') }}</td>
                <td>
                    <a href="{{ path('catalog_show', {'id': item.id}) }}" class="btn btn-info btn-sm">Просмотр</a>
                    <a href="{{ path('catalog_edit', {'id': item.id}) }}" class="btn btn-warning btn-sm">Редактировать</a>
                    <a href="{{ path('catalog_delete', {'id': item.id}) }}" class="btn btn-danger btn-sm" onclick="return confirm('Вы уверены, что хотите удалить этот товар?')">Удалить</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">Нет товаров в каталоге.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
